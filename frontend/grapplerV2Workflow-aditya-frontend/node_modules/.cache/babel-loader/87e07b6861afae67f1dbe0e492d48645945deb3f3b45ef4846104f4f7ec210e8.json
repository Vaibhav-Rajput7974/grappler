{"ast":null,"code":"// WebSocketService.js\nimport SockJS from 'sockjs-client';\nimport Stomp from 'stompjs';\nlet stompClient = null;\nexport const connect = () => {\n  const socket = new SockJS('http://localhost:8080/');\n  stompClient = Stomp.over(socket);\n  stompClient.connect({}, () => {\n    console.log('Connected to WebSocket');\n  });\n};\nexport const disconnect = () => {\n  if (stompClient !== null) {\n    stompClient.disconnect();\n    console.log('Disconnected from WebSocket');\n  }\n};\nexport const sendMessage = message => {\n  stompClient.send('/app/sendMessage', {}, JSON.stringify({\n    message\n  }));\n};\nexport const subscribeToMessages = callback => {\n  stompClient.subscribe('/topic/messages', response => {\n    const message = JSON.parse(response.body);\n    callback(message);\n  });\n};","map":{"version":3,"names":["SockJS","Stomp","stompClient","connect","socket","over","console","log","disconnect","sendMessage","message","send","JSON","stringify","subscribeToMessages","callback","subscribe","response","parse","body"],"sources":["C:/grapplerV2Workflow-aditya-frontend/src/Api/WebSocketService.js"],"sourcesContent":["// WebSocketService.js\r\nimport SockJS from 'sockjs-client';\r\nimport Stomp from 'stompjs';\r\n\r\nlet stompClient = null;\r\n\r\nexport const connect = () => {\r\n    const socket = new SockJS('http://localhost:8080/');\r\n    stompClient = Stomp.over(socket);\r\n    stompClient.connect({}, () => {\r\n        console.log('Connected to WebSocket');\r\n    });\r\n};\r\n\r\nexport const disconnect = () => {\r\n    if (stompClient !== null) {\r\n        stompClient.disconnect();\r\n        console.log('Disconnected from WebSocket');\r\n    }\r\n};\r\n\r\nexport const sendMessage = (message) => {\r\n    stompClient.send('/app/sendMessage', {}, JSON.stringify({ message }));\r\n};\r\n\r\nexport const subscribeToMessages = (callback) => {\r\n    stompClient.subscribe('/topic/messages', (response) => {\r\n        const message = JSON.parse(response.body);\r\n        callback(message);\r\n    });\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,MAAM,MAAM,eAAe;AAClC,OAAOC,KAAK,MAAM,SAAS;AAE3B,IAAIC,WAAW,GAAG,IAAI;AAEtB,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACzB,MAAMC,MAAM,GAAG,IAAIJ,MAAM,CAAC,wBAAwB,CAAC;EACnDE,WAAW,GAAGD,KAAK,CAACI,IAAI,CAACD,MAAM,CAAC;EAChCF,WAAW,CAACC,OAAO,CAAC,CAAC,CAAC,EAAE,MAAM;IAC1BG,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;EACzC,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC5B,IAAIN,WAAW,KAAK,IAAI,EAAE;IACtBA,WAAW,CAACM,UAAU,CAAC,CAAC;IACxBF,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAC9C;AACJ,CAAC;AAED,OAAO,MAAME,WAAW,GAAIC,OAAO,IAAK;EACpCR,WAAW,CAACS,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,EAAEC,IAAI,CAACC,SAAS,CAAC;IAAEH;EAAQ,CAAC,CAAC,CAAC;AACzE,CAAC;AAED,OAAO,MAAMI,mBAAmB,GAAIC,QAAQ,IAAK;EAC7Cb,WAAW,CAACc,SAAS,CAAC,iBAAiB,EAAGC,QAAQ,IAAK;IACnD,MAAMP,OAAO,GAAGE,IAAI,CAACM,KAAK,CAACD,QAAQ,CAACE,IAAI,CAAC;IACzCJ,QAAQ,CAACL,OAAO,CAAC;EACrB,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}